# 突发！Gitee图床废了！

---

写本文的初衷是因为 Gitee 图床挂了，导致很多人的个人博客或者笔记的图片都无法显示了。

![image-20220327001758628](/Users/mannix/Library/Application%20Support/typora-user-images/image-20220327001758628.png)

## 前言

目前我使用过的免费图床

- Gitee
- GitHub

Gitee 于2022年3月25日开启了防盗链，博客笔记中引用的图片无法显示，所以用不了（Issues中一片哀嚎）。

GitHub 因为服务器是在国外，国内可以通过修改 host 来访问 ，其实实际体验效果都不好，只能通过翻墙才是最优解。

其他的图床，比如 SM.MS，网上评论说也有失效情况，本人没有使用过，不多说了。

经过 Gitee 这次的惨痛教训，本人打算使用付费的对象存储服务。

## 对象存储

需求：个人用户

各大平台产品选择标准存储，其他类型产品不推荐（不同产品的区别可以参照官网，各大平台差不多）。

以下信息，于2022年3月26日统计，都是从各自官网查询得到，绝对真实

### 七牛云Kodo

官方介绍：对象存储 Kodo_云存储_海量安全高可靠云存储_oss - 七牛云 (qiniu.com)

#### 计费案例

以下案例单价来自 2022 年 3 月 15 日七牛云官网公布的详细价格信息。单价的变动请以七牛云官网发布的数据为准。

#### 标准存储月费用计算

赵先生在七牛云(华南区域)存储了 500GB 标准存储类型文件，每天的PUT/DELETE请求数均值为 10000 次，GET 请求次数为 50000 次，每天通过七牛 CDN 回源流出的流量约为 3 GB，则赵先生当月需支付费用约 61.21 元。

存储费用=(500GB-10GB) * 0.099元/GB/月=48.51 元

标准存储有10GB的免费空间额度

PUT/DELETE请求费用=(10000次/天 * 30天-100000次) * 0.01元/10000次=0.2 元

标准存储有10万次的 PUT/DELETE 请求免费额度

GET 请求费用=(50000次/天 * 30天-1000000次) * 0.01元/10000次=0.5 元

标准存储有100万次的 GET 请求免费额度

CDN 回源流量费用=(3GB/天 * 30天-10GB) * 0.15元/GB=12元

标准存储有10GB的CDN回源流量免费额度

总费用，约 61.21 元

### 腾讯云COS

官方介绍：对象存储数据处理_COS数据处理_数据处理方案-腾讯云 (tencent.com)

个人用户每月享受50GB标准存储容量，6个月

#### 计费示例

个人用户 A 运营着一个网站，经常发布一些包含有图片、背景音乐、视频的文章，同时还有软件下载区等。用户 A 将网站内容存储在广州地域的标准存储服务中，并开启了 CDN 加速服务。

每月图片预计占用标准存储容量100GB，产生 CDN 回源流量100GB，读和写请求总计100万次。

#### 标准存储月费用计算

用户 A 在享受免费额度期间（即用户开通 COS 起的6个月），每月的费用分析如下：

费用组成	免费额度	单价	计费量	费用 （单价 * 计费量）

存储容量费用	50GB	0.118元/GB/月	(100 - 50)GB	5.9元

请求费用	0	0.01元/万次	100万次	1元

CDN 回源流量费用	0	0.15元/GB	100GB	15元

月费用	-	-	-	21.9元

用户 A 享有的免费额度过期后，每月的费用分析如下：

费用组成	免费额度	单价	计费量	费用（单价 * 计费量）

存储容量费用	0	0.118元/GB/月	100GB	11.8元

请求费用	0	0.01元/万次	100万次	1元

CDN 回源流量费用	0	0.15元/GB	100GB	15元

月费用	-	-	-	27.8元

### 阿里云OSS

官方介绍：对象存储OSS_云存储服务_企业数据管理_存储-阿里云 (aliyun.com)

#### 计费案例

以下案例单价来自2018年1月3日阿里云官网公布的详细价格信息。单价的变动请以阿里云官网发布的数据为准。

#### 标准存储（本地冗余）+数据访问

李先生于2021年11月在OSS内存储了505 GB标准存储（本地冗余）类型文件，存储空间所在地域为华东1（杭州），每小时的请求数均值为1000次，每天8:00~24:00时间段内外网流出流量约为2 GB 。此外，李先生还购买了500 GB标准（LRS）存储包以及50 GB流量包，则李先生可以选择以下两种方案进行付费：

仅按量计费，则支付总费用91.32元，计费明细如下：

计费项	费用

存储费用	505 GB×0.12元/GB/月=60.6元

请求费用	1000×0.01元/10000次×24小时×30天=0.72元

流量费用	2 GB×30天×0.5元/GB=30元

资源包+按量计费，则支付总费用70.28元，计费明细如下：

计费项	费用

存储费用	54元（500 GB标准（LRS）存储包）+5 GB×0.12元/GB/月=54.6元

请求费用	1000×0.01元/10000次×24小时×30天=0.72元

流量费用	9.96元（50 GB流量包）+10 GB×0.5元/GB=14.96元

## 其他平台

参考这个图片

![img](https://img-blog.csdnimg.cn/img_convert/ce22f43ef7dbf0a964428e2a804aab16.png)

## 个人需求分析

首先本人的个人习惯一般是使用 Snipaste 进行截图，有时候也有从其他渠道获取图片。然后将图片通过 PicGo 上传到图床，接着使用 Typora 编辑笔记引用图片地址，然后使用 Obsidian 进行笔记管理。

目前图片库大概有500张左右，大多数的图片只有几十Kb大小，总仓库大小不到 100Mb。我的图片仓库目前很小，因为我之前是使用 Gitee 图床，Gitee图床之前是由1M大小的限制的，所以我一直有限制图片大小的习惯（图片小也可以加快访问速度）。目前发布的博客流量也不高，所以我直接比较各平台最低档的服务就行，也不需要CDN加速。

比较了一下，针对于我的需求。发现无论是哪个平台，存储费用都极低，关键是流量费用的差距。如果是选择七牛云，基本可以说是完全免费。

由于我是阿里云的忠实用户了（购买了服务器和域名），所以还是选择阿里云OSS，反正应该花不了多少钱，推测每月5元封顶，等我1个月后再来谈谈实际体验。

大家根据需要自行选择即可。

## 文件地址替换

接下来就是紧张刺激的 MarkDown 链接替换操作了。

可以自己写代码读文件替换。我这里使用了 IDEA 进行简单的文本替换。将原本 Gitee上的的前缀替换为阿里云的地址即可。

## 目前情况

截止目前，Gitee在广大用户呼吁诅咒谩骂下，暂时放松了防盗链限制，之前上传的图片可以通过Typora查看，但是无法通过网站引用，现在也无法成功上传新图片。

## 扩展

- 阿里云OSS PicGo 配置图床教程

```
https://blog.csdn.net/kai123wen/article/details/104027802
```

- Gitee图床外链问题处理-七牛云

```
http://www.ice-maple.com/2022/03/26/Gitee%20Pic%20Host%20Crash/
```

------------------------------------------------
版权声明：本文为CSDN博主「笔上烽烟」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/qq_38856939/article/details/123761802